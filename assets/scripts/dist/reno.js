const animateName={init:function(){this.element=document.querySelector(".name"),this.name=this.element.innerText,this.clone=null,this.lastScrollTop=0,this.repositionLetters(),this.attachListeners()},repositionLetters:function(){var t=Array.from(this.name.split(" ").join("")),e=[];t.forEach(function(t){var o=animateName.getRandomInt(),n="<span style='top:"+o+"px; position:relative; z-index:2' data-orig="+o+"px>"+t+"</span>";e.push(n)});var o=document.createElement("h1");o.className="letters",o.innerHTML=e.join(" "),this.clone=o,this.element.parentNode.appendChild(o)},onScroll:function(){var t=this.getScrollDirection();this.clone.querySelectorAll("span").forEach(function(e){var o=!1;"up"==t&&!1===o?(animateName.onScrollUp(e),o=!0):"down"==t&&animateName.onScrollDown(e)})},onScrollUp:function(t){var e=t.getAttribute("data-orig");this.reset(),t.style.top=String(e)},onScrollDown:function(t){this.clearReset();var e=this.getScrollTop()/120||0,o=parseInt(t.style.top.substring(0,t.style.top.length-2)),n=!1;o<0?(n=Math.round(o+e))>0&&(n=0):o>0&&(n=Math.round(o-e))<0&&(n=0),!1!==n&&(t.style.top=String(n)+"px")},getScrollDirection:function(){var t=null,e=this.getScrollTop();return this.lastScrollTop-e<0?t="down":this.lastScrollTop-e>0&&(t="up"),this.lastScrollTop=e,t},getScrollTop:function(){return window.pageYOffset||window.scrollTop},getRandomInt:function(){return randNum=Math.floor(266*Math.random())+15,randNum*=1==Math.floor(2*Math.random())?1:-1,randNum},reset:function(){this.clone.classList.add("reset")},clearReset:function(){this.clone.classList.remove("reset")},attachListeners:function(){window.addEventListener("scroll",function(){animateName.onScroll()})}},portfolio={container:document.querySelector(".portfolio"),file_name:"portfolio.json",error_message:"Oops. Something went wrong while loading the portfolio. Please reload the page to try again.",init:function(){this.loadPortfolio()},loadPortfolio:function(){fetch(this.file_name).then(t=>t.json()).then(function(t){portfolio.processResponse(t)}).catch(function(t){portfolio.error_message})},processResponse:function(t){for(var e=[],o=0;o<t.data.length;o++){var n=t.data[o],i=JSON.stringify(n.full_images),a=!1===n.href?"modal-trigger":"",r=0!=n.href?n.href:"#",s=n.tags.map(function(t){return"<li>"+t+"</li>"}).join(""),l=`\n\t\t\t\t\t\t<article>\n\t\t\t\t\t\t\t<div class='col image' data-aos='${n.animations.image}' data-aos-once='once' data-aos-offset='${n.animations.img_offset}'>\n\t\t\t\t\t\t\t\t<a href='${r}' target='blank'><img src='assets/images/${n.thumb}' data-large='${i}' class='${a}' title='img' alt='${n.thumb}'/></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='col text' data-aos='${n.animations.text}' data-aos-once='once' data-aos-offset='${n.animations.text_offset}' >\n\t\t\t\t\t\t\t\t<h3>${n.title}</h3>\n\t\t\t\t\t\t\t\t<p>${n.body}</p>\n\t\t\t\t\t\t\t\t<ul class='tags'>${s}</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</article>\n\t\t\t\t\t`;e.push(l)}this.updateContainer(e.join("\n"))},updateContainer:function(t){this.container.innerHTML=t}},viewer={modal:document.getElementById("modal"),img_dir:"assets/images/",loading_class:"loading",open_trigger:".modal-trigger",close_triggers:".close, .overlay",container:".modal_content",no_body_scroll:"no-scroll",init:function(){this.modal&&this.attachListeners()},openModal:function(t){this.modal.style.display="block",this.setContent(t),this.bodyScroll(!1)},closeModal:function(){var t=this.modal.querySelector(this.container);this.modal.style.display="none",t.scrollTop=0,t.innerHTML="",this.bodyScroll(!0)},setContent:function(t){var e=JSON.parse(t.getAttribute("data-large"));Object.keys(e[0]).forEach(function(t){var o=t,n=e[0][t],i="<figure class='loading'>";n.length>0&&(i+="<figcaption>"+n+"</figcaption>"),i+="<img src='"+viewer.img_dir+"loader.gif' data-id='"+o+"' /></figure>",viewer.modal.querySelector(viewer.container).innerHTML+=i;var a=new Image;a.src=viewer.img_dir+o,a.onload=function(){var t=viewer.modal.querySelector("[data-id='"+o+"']");t.src=a.src,t.parentNode.classList.remove(viewer.loading_class)}})},bodyScroll:function(t){!0===t?document.body.classList.remove(this.no_body_scroll):document.body.classList.add(this.no_body_scroll)},attachListeners:function(){document.addEventListener("click",function(t){t.target.matches(viewer.open_trigger)&&(t.preventDefault(),viewer.openModal(t.target))},!1),this.modal.querySelectorAll(this.close_triggers).forEach(function(t){t.addEventListener("click",function(t){viewer.closeModal()})}),document.onkeydown=function(t){27==(t=t||window.event).keyCode&&viewer.closeModal()}}};